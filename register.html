<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>University Student Registration</title>
    <link rel="stylesheet" href="css/university-register-style.css">
</head>
<body>

    <div class="registration-container">
        <h2>University Student Registration</h2>
        <form action="./server/register.php" method="POST">
            <div class="input-group">
                <label for="student-id">Student ID</label>
                <input type="text" id="student-id" name="student-id" required>
            </div>

            <div class="input-group">
                <label for="first-name">First Name</label>
                <input type="text" id="first-name" name="first-name" required>
            </div>

            <div class="input-group">
                <label for="last-name">Last Name</label>
                <input type="text" id="last-name" name="last-name" required>
            </div>

            <div class="input-group">
                <label for="email">Email</label>
                <input type="email" id="email" name="email" required>
            </div>

            <div class="input-group">
                <label for="username">Username</label>
                <input type="text" id="username" name="username" required>
            </div>

            <div class="input-group">
                <label for="password">Password</label>
                <input type="password" id="password" name="password" required>
            </div>

            <div class="input-group">
                <label for="confirm-password">Confirm Password</label>
                <input type="password" id="confirm-password" name="confirm-password" required>
            </div>

            <div class="input-group">
                <label for="degree-program">Degree Program</label>
                <select id="degree-program" name="degree-program" required>
                    <!-- Options will be populated by JavaScript -->
                </select>
            </div>

            <div class="input-group">
                <label for="year-of-study">Year of Study</label>
                <select id="year-of-study" name="year-of-study" required>
                    <option value="">Select Year</option>
                    <option value="1">Year 1</option>
                    <option value="2">Year 2</option>
                    <option value="3">Year 3</option>
                    <option value="4">Year 4</option>
                    <option value="5">Year 5 (if applicable)</option>
                </select>
            </div>

            <div class="input-group">
                <button type="submit">Register</button>
            </div>
            <div class="forgot-password">
                <p>Already have an account <a href="login.html">Register</a></p>
            </div>
        </form>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const degreeProgramSelect = document.getElementById('degree-program');

            // Fetch programs from the backend and populate the select input
            fetch('./server/get_programs.php')
                .then(response => response.json())
                .then(data => {
                    data.forEach(program => {
                        const option = document.createElement('option');
                        option.value = program.id;
                        option.textContent = program.program_name;
                        degreeProgramSelect.appendChild(option);
                    });
                })
                .catch(error => console.error('Error fetching programs:', error));
        });
    </script>
</body>
</html>